<div class="md:hidden w-full overflow-hidden ">
  {% render 'swiper' with { product: product } %}
</div>

<div class="  mobile-info md:hidden sm:visible  h-fit flex justify-start items-start p-4 ">
  <div class="  ">
    <div class="js-product-title2  ">
      <h3 class="display-serif text-center w-full ">{{ product.title }}</h3>
      <h3 class="display-serif">{{ product.metafields.custom.range }}</h3>
    </div>

    <div class="js-product-description md:w-[350px]">
      <div class="pb-4">
        {{ product.description }}
      </div>

      <ajax-cart-product-form>
        {% render 'add-to-cart-form' with current_variant: current_variant %}
      </ajax-cart-product-form>
      <div class="flex flex-col gap-1  pt-4 ">
        <div class="js-product-description md:w-[350px] pt-4 flex-col flex gap-0">
          {% if product.metafields.custom.shipping != '' %}
            {% render 'accordian' with { title: 'Shipping', content: product.metafields.custom.shipping } %}
          {% endif %}
          {% if product.metafields.custom.size != '' %}
            {% render 'accordian' with { title: 'Dimnetions', content: product.metafields.custom.size } %}
          {% endif %}
        </div>
        {% render 'atc-stick' %}
      </div>
    </div>
  </div>
</div>

<div class=" relative h-fit pb-40 ">
  <div
    style="background:{{product.metafields.custom.page_colour}}"
    class="bg-backdrop-color opacity-0 transition-all duration-300  fixed inset-0  "
  ></div>

  <div class=" desktop-info js-product-info h-fit md:flex justify-start items-start p-4 fixed top-0 left-0  z-20 snap-start   sm:visible hidden ">
    <div class="  ">
      <div class="js-product-title ">
        <h3 class="display-serif ">{{ product.title }}</h3>
        <h3 class="display-serif">{{ product.metafields.custom.range }}</h3>
      </div>

      <div class="js-product-description md:w-[350px]">
        <div class="pb-4 pt-2 ">
          {{ product.description }}
        </div>

        <ajax-cart-product-form>
          {% render 'add-to-cart-form' with current_variant: current_variant %}
        </ajax-cart-product-form>
        <div class="flex flex-col gap-1  ">
          <div class="js-product-description md:w-[350px]  flex-col flex gap-0">
            {% if product.metafields.custom.shipping != '' %}
              {% render 'accordian' with { title: 'Shipping', content: product.metafields.custom.shipping } %}
            {% endif %}
            {% if product.metafields.custom.size != '' %}
              {% render 'accordian' with { title: 'Dimnetions', content: product.metafields.custom.size } %}
            {% endif %}
          </div>
          {% render 'atc-stick' %}
        </div>
      </div>
    </div>
  </div>

  <div class="js-product-gallery p-1 post-wrapper md:flex sm:hidden flex-col gap-12 w-screen pt-[40vh] [&>*:nth-child(odd)]:justify-end pb-[20vw]   ">
    {% for image in product.images %}
      <div class=" flex w-full gap-2 [&>*:nth-child(odd)]:p-1  ">
        <div class="  w-1/2  h-[40vw] rounded-sm  ">
          <div class=" rounded-sm ">
            {{ image | image_url: width: 800 | image_tag: class: 'rounded-sm h-fit js-fade w-full  ' }}
          </div>

          <p class="caption h-4 ">{{ forloop.index }} / {{ forloop.length }}</p>
        </div>
      </div>
    {% endfor %}
  </div>
</div>
{% section 'product-recommendations' %}
